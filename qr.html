<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<title data-lang-key="pageTitle">صانع QR Code احترافي مجاني 2025 - إنشاء رمز QR عالي الجودة (PNG) لرابط أو نص | Skydata</title>

<meta name="description" content="أداة Skydata مجانية 100% لإنشاء رمز QR Code احترافي وعالي الجودة (High Resolution PNG) لرابط، نص، إيميل، أو هاتف لعام 2025. صانع QR يدعم التخصيص والألوان، ومثالي للطباعة والأعمال التجارية.">

<meta name="description" lang="en" content="Skydata's 100% free professional QR Code Generator for 2025. Create high-resolution (PNG) QR codes for links, text, email, or phone numbers. Supports customization, colors, and is ideal for print and business use.">

<meta name="keywords" content="صانع QR Code مجاني, إنشاء رمز QR, مولد QR Code, QR Code maker, free QR code generator 2025, QR لرابط, QR للنص, رمز QR عالي الجودة, QR Code احترافي, QR Code maker free, generate QR code, create high resolution QR, QR code erstellen, kostenlos QR Code Generator, créer code QR gratuit, générateur de QR code, creare codice QR, generatore QR gratuito, crear codigo QR, generador QR gratis, сгенерировать QR код, бесплатный QR генератор, 二维码生成器, 免费QR码, QRコード作成, 無料QRコード生成, मुफ्त QR कोड जनरेटर, क्यूआर कोड बनाएं">

    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
    <script>
      window.OneSignalDeferred = window.OneSignalDeferred || [];
      OneSignalDeferred.push(async function(OneSignal) {
        await OneSignal.init({
          appId: "9bc8ff80-a325-4935-ba4d-03e362a3cc5f", 
        });
      });
    </script>
    <script type="text/javascript" src="https://unpkg.com/qr-code-styling@1.6.0/lib/qr-code-styling.js"></script>
    
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes spin { 
            to { transform: rotate(360deg); } 
        }

        body {
            font-family: Arial, sans-serif; direction: rtl; 
            background-color: #121212; color: #e0e0e0;
            margin: 0; padding: 0; display: flex; flex-direction: column; min-height: 100vh;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; flex-grow: 1; }
        header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 20px; background-color: #1e1e1e; border-bottom: 1px solid #333;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .logo-container { display: flex; align-items: center; }
        .logo-container img { height: 40px; margin-left: 10px; }
        .lang-switcher { display: flex; }
        .lang-switcher a {
            text-decoration: none; color: #007bff; margin: 0 5px;
            font-weight: bold; cursor: pointer; padding: 5px 8px; border-radius: 5px;
        }
        .lang-switcher a.active { background-color: #007bff; color: #ffffff; }

        footer {
            background-color: #1e1e1e; padding: 20px;
            text-align: center; margin-top: auto;
            border-top: 1px solid #333;
        }
        
        main { text-align: center; }
        .tool-box {
            background-color: #1e1e1e; padding: 30px;
            border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            margin-top: 30px;
            animation: fadeIn 0.5s ease;
        }
        
        .qr-layout {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }
        .qr-settings {
            flex: 1;
            min-width: 300px;
            text-align: right;
        }
        .qr-preview {
            flex: 1;
            min-width: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* (جديد) تصميم التبويبات (Tabs) */
        .tabs {
            display: flex;
            margin-bottom: 20px;
            background-color: #333;
            border-radius: 8px;
            overflow: hidden;
        }
        .tab-btn {
            flex: 1;
            padding: 12px;
            border: none;
            background-color: transparent;
            color: #e0e0e0;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .tab-btn:hover {
            background-color: #444;
        }
        .tab-btn.active {
            background-color: #007bff;
            color: #fff;
        }
        .tab-content {
            display: none; /* مخفي افتراضياً */
        }
        .tab-content.active {
            display: block; /* إظهار المحتوى النشط */
            animation: fadeIn 0.3s ease;
        }

        .setting-group {
            margin-bottom: 20px;
        }
        .setting-group label {
            display: block;
            font-size: 1.1em;
            color: #fff;
            margin-bottom: 10px;
        }
        .setting-group input[type="text"],
        .setting-group select {
            width: 100%;
            background-color: #333;
            color: #e0e0e0;
            border: 1px solid #555;
            padding: 12px;
            border-radius: 5px;
            font-size: 1em;
            box-sizing: border-box;
        }
        
        /* (جديد) تصميم زر رفع الملف المخصص */
        #image-qr-input {
            display: none;
        }
        .custom-file-upload {
            display: block;
            background-color: #007bff;
            color: #ffffff;
            padding: 12px 25px;
            font-size: 1.1em;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        .custom-file-upload:hover {
            background-color: #0056b3;
            transform: scale(1.03);
        }
        #upload-status {
            font-size: 0.9em;
            color: #aaa;
            margin-top: 10px;
        }

        /* (جديد) تصميم أزرار الألوان المخصصة */
        .color-group {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }
        .color-input-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
            position: relative; /* للسماح بوضع الزر المخفي */
        }
        .color-input-wrapper label {
            font-size: 0.9em;
            color: #aaa;
            margin-bottom: 5px;
        }
        /* الزر المخفي الأصلي */
        .color-input-wrapper input[type="color"] {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 40px;
            opacity: 0; /* إخفاء كامل */
            cursor: pointer;
            z-index: 10;
        }
        /* الزر المخصص الظاهر */
        .color-swatch {
            width: 100%;
            height: 40px;
            border: 2px solid #555;
            border-radius: 5px;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }
        .color-input-wrapper:hover .color-swatch {
            border-color: #007bff;
        }

        /* منطقة عرض الكود */
        #canvas {
            width: 300px;
            height: 300px;
            border: 2px dashed #333;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            background-color: #121212;
            transition: all 0.3s ease;
        }
        
        #download-area {
            margin-top: 20px;
        }
        
        .cta-button {
            display: inline-block; background-color: #007bff; color: #ffffff;
            padding: 12px 25px; font-size: 1.1em; font-weight: bold;
            text-decoration: none; border-radius: 5px; border: none;
            cursor: pointer; 
            transition: all 0.3s ease;
            margin: 5px;
        }
        .cta-button:hover { 
            transform: scale(1.03);
        }
        .cta-button.green { background-color: #28a745; }
        .cta-button.red { background-color: #dc3545; }
        .cta-button.green:hover { background-color: #218838; }
        .cta-button:disabled { background-color: #555; cursor: not-allowed; }

        .back-button { 
            background-color: #555; margin-top: 50px; 
            font-size: 1.1em; padding: 10px 20px;
        }
        .back-button:hover { background-color: #444; }

        /* تنسيق النص التعليمي */
        .instruction-box {
            background-color: #1e1e1e;
            padding: 20px 30px;
            border-radius: 8px;
            margin-top: 30px;
            text-align: right;
            animation: fadeIn 0.5s ease;
        }
        .instruction-box h2 {
            color: #fff;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .instruction-box p, .instruction-box ul {
            font-size: 1.1em;
            line-height: 1.7;
            color: #e0e0e0;
        }

        /* Responsive */
        @media (max-width: 800px) {
            .qr-layout {
                flex-direction: column;
            }
            .qr-preview {
                order: -1; /* جعل المعاينة تظهر في الأعلى */
            }
        }
        @media (max-width: 600px) {
            .container { padding: 10px; }
            header { padding: 10px 15px; }
            .tool-box { padding: 20px; }
            .tool-box h1 { font-size: 1.8em; }
            .instruction-box { padding: 20px; }
            .color-group { flex-direction: column; }
            .color-input-wrapper { margin-bottom: 10px; }
        }
        @media (max-width: 380px) {
            .logo-container img { height: 30px; }
        }

    </style>
    </head>
<body>

    <header>
        <div class="logo-container">
            <img src="https://i.ibb.co/hJ2nq38z/clouddata.webp" alt="شعار CloudData">
            <img src="https://i.ibb.co/v9zLrFg/skydata.webp" alt="شعار Skydata">
        </div>
        <div class="lang-switcher">
            <a href="#" id="lang-ar" class="active" onclick="setLanguage('ar'); return false;">AR</a>
            <a href="#" id="lang-en" onclick="setLanguage('en'); return false;">EN</a>
        </div>
    </header>

    <div class="container">
        
        <main>
            <div class="tool-box">
                <h1 data-lang-key="toolTitle">صانع QR Code الاحترافي</h1>
                
                <div class="qr-layout">
                    
                    <div class="qr-preview">
                        <div id="canvas">
                            <span data-lang-key="previewArea">اختر نوع الإدخال وابدأ...</span>
                        </div>
                        <div id="download-area" style="display: none;">
                            <button id="download-btn" class="cta-button green" data-lang-key="downloadButton">تحميل (PNG)</button>
                        </div>
                    </div>
                    
                    <div class="qr-settings">
                        
                        <div class="tabs">
                            <button class="tab-btn active" data-tab="text-tab" data-lang-key="tabText">نص / رابط</button>
                            <button class="tab-btn" data-tab="image-tab" data-lang-key="tabImage">رفع صورة</button>
                        </div>

                        <div id="text-tab" class="tab-content active">
                            <div class="setting-group">
                                <label for="data-input" data-lang-key="dataLabel">النص أو الرابط:</label>
                                <input type="text" id="data-input" placeholder="https://www.example.com">
                            </div>
                        </div>

                        <div id="image-tab" class="tab-content">
                            <div class="setting-group">
                                <label for="image-qr-input" data-lang-key="imageLabel">رفع صورة (لإنشاء رابط لها):</label>
                                <label for="image-qr-input" class="custom-file-upload" data-lang-key="uploadButton">اختر صورة...</label>
                                <input type="file" id="image-qr-input" accept="image/*">
                                <div id="upload-status"></div>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <label data-lang-key="colorsLabel">الألوان:</label>
                            <div class="color-group">
                                <div class="color-input-wrapper">
                                    <label data-lang-key="dotsColor">النقاط</label>
                                    <input type="color" id="dots-color-input" value="#121212">
                                    <div class="color-swatch" id="dots-swatch" style="background-color: #121212;"></div>
                                </div>
                                <div class="color-input-wrapper">
                                    <label data-lang-key="cornersColor">الزوايا</label>
                                    <input type="color" id="corners-color-input" value="#007bff">
                                    <div class="color-swatch" id="corners-swatch" style="background-color: #007bff;"></div>
                                </div>
                                <div class="color-input-wrapper">
                                    <label data-lang-key="bgColor">الخلفية</label>
                                    <input type="color" id="bg-color-input" value="#ffffff">
                                    <div class="color-swatch" id="bg-swatch" style="background-color: #ffffff;"></div>
                                </div>
                            </div>
                        </div>

                        <div class="setting-group">
                            <label for="dots-style-select" data-lang-key="dotsStyleLabel">شكل النقاط:</label>
                            <select id="dots-style-select">
                                <option value="square" data-lang-key="styleSquare">مربع (افتراضي)</option>
                                <option value="dots" data-lang-key="styleDots">نقاط</option>
                                <option value="rounded" data-lang-key="styleRounded">مستدير</option>
                                <option value="classy" data-lang-key="styleClassy">أنيق</option>
                                <option value="classy-rounded" data-lang-key="styleClassyRounded">أنيق مستدير</option>
                                <option value="extra-rounded" data-lang-key="styleExtraRounded">مستدير جداً</option>
                            </select>
                        </div>
                        <div class="setting-group">
                            <label for="corners-style-select" data-lang-key="cornersStyleLabel">شكل الزوايا:</label>
                            <select id="corners-style-select">
                                <option value="square" data-lang-key="styleSquare">مربع</option>
                                <option value="dot" data-lang-key="styleDot">نقطة</option>
                                <option value="extra-rounded" data-lang-key="styleExtraRounded">مستدير جداً</option>
                            </select>
                        </div>

                        </div>
                </div>

            </div>

            <div class="instruction-box">
                <h2 data-lang-key="instructionTitle">دليل استخدام صانع QR Code</h2>
                <p data-lang-key="whatIsQR">
                    هذه أداة احترافية تتيح لك إنشاء أكواد QR مخصصة. يمكنك تحويل نص أو رابط، أو حتى رفع صورة ليتم إنشاء رابط لها ووضعه في الكود. يمكنك تغيير الألوان وشكل نقاط الكود لجعله فريداً.
                </p>
                <h3 data-lang-key="howToUse">كيفية الاستخدام</h3>
                <ul>
                    <li data-lang-key="step1">1. اختر نوع الإدخال: "نص/رابط" أو "رفع صورة".</li>
                    <li data-lang-key="step2">2. إذا اخترت "نص"، اكتبه. إذا اخترت "صورة"، ارفعها وانتظر إنشاء الرابط.</li>
                    <li data-lang-key="step3">3. (اختياري) اختر الألوان، وشكل النقاط، وشكل الزوايا من القوائم.</li>
                    <li data-lang-key="step4">4. سيظهر الكود مباشرة. اضغط "تحميل" لحفظه كصورة PNG.</li>
                </ul>
                <p class="privacy-note" data-lang-key="privacyNote">
                    + حماية خصوصيتك 100%: كل الأكواد (للنصوص) يتم إنشاؤها على جهازك. إذا قمت برفع صورة، يتم رفعها إلى ImgBB للحصول على رابط فقط.
                </p>
            </div>

            <a href="index.html" class="cta-button back-button" data-lang-key="backToHome">العودة للرئيسية</a>
        </main>
        
    </div> <footer style="margin-top: auto;">
        </footer>


    <script>
        // --- (جديد) مفتاح API لرفع الصور ---
        const IMGBB_API_KEY = "f0ff703738276bb67fcc6b7f0a6778d5";
    
        // --- 1. قاموس الترجمة ---
        const translations = {
            "ar": {
                "pageTitle": "صانع QR Code الاحترافي - Skydata",
                "toolTitle": "صانع QR Code الاحترافي",
                "previewArea": "اختر نوع الإدخال وابدأ...",
                "downloadButton": "تحميل (PNG)",
                "tabText": "نص / رابط",
                "tabImage": "رفع صورة",
                "dataLabel": "النص أو الرابط:",
                "imageLabel": "رفع صورة (لإنشاء رابط لها):",
                "uploadButton": "اختر صورة...",
                "uploadStatusReady": "اختر صورة (32 ميجا كحد أقصى)",
                "uploadStatusUploading": "جاري رفع الصورة...",
                "uploadStatusError": "فشل رفع الصورة!",
                "uploadStatusSuccess": "تم الرفع! جاري إنشاء الكود...",
                "colorsLabel": "الألوان:",
                "dotsColor": "النقاط",
                "cornersColor": "الزوايا",
                "bgColor": "الخلفية",
                "dotsStyleLabel": "شكل النقاط:",
                "cornersStyleLabel": "شكل الزوايا:",
                "styleSquare": "مربع",
                "styleDots": "نقاط",
                "styleRounded": "مستدير",
                "styleClassy": "أنيق",
                "styleClassyRounded": "أنيق مستدير",
                "styleExtraRounded": "مستدير جداً",
                "styleDot": "نقطة",
                "sizeLabel": "الحجم:",
                "backToHome": "العودة للرئيسية",
                "instructionTitle": "دليل استخدام صانع QR Code",
                "whatIsQR": "هذه أداة احترافية تتيح لك إنشاء أكواد QR مخصصة. يمكنك تحويل نص أو رابط، أو حتى رفع صورة ليتم إنشاء رابط لها ووضعه في الكود. يمكنك تغيير الألوان وشكل نقاط الكود لجعله فريداً.",
                "howToUse": "كيفية الاستخدام",
                "step1": "1. اختر نوع الإدخال: \"نص/رابط\" أو \"رفع صورة\".",
                "step2": "2. إذا اخترت \"نص\"، اكتبه. إذا اخترت \"صورة\"، ارفعها وانتظر إنشاء الرابط.",
                "step3": "3. (اختياري) اختر الألوان، وشكل النقاط، وشكل الزوايا من القوائم.",
                "step4": "4. سيظهر الكود مباشرة. اضغط \"تحميل\" لحفظه كصورة PNG.",
                "privacyNote": "+ حماية خصوصيتك 100%: كل الأكواد (للنصوص) يتم إنشاؤها على جهازك. إذا قمت برفع صورة، يتم رفعها إلى ImgBB للحصول على رابط فقط."
            },
            "en": {
                "pageTitle": "Pro QR Code Generator - Skydata",
                "toolTitle": "Pro QR Code Generator",
                "previewArea": "Select input type and start...",
                "downloadButton": "Download (PNG)",
                "tabText": "Text / Link",
                "tabImage": "Upload Image",
                "dataLabel": "Text or Link:",
                "imageLabel": "Upload Image (to create a link):",
                "uploadButton": "Choose an Image...",
                "uploadStatusReady": "Select an image (Max 32MB)",
                "uploadStatusUploading": "Uploading image...",
                "uploadStatusError": "Upload failed!",
                "uploadStatusSuccess": "Upload complete! Generating code...",
                "colorsLabel": "Colors:",
                "dotsColor": "Dots",
                "cornersColor": "Corners",
                "bgColor": "Background",
                "dotsStyleLabel": "Dots Style:",
                "cornersStyleLabel": "Corner Style:",
                "styleSquare": "Square",
                "styleDots": "Dots",
                "styleRounded": "Rounded",
                "styleClassy": "Classy",
                "styleClassyRounded": "Classy Rounded",
                "styleExtraRounded": "Extra Rounded",
                "styleDot": "Dot",
                "sizeLabel": "Size:",
                "backToHome": "Back to Home",
                "instructionTitle": "QR Code Generator Guide",
                "whatIsQR": "This professional tool allows you to create custom QR codes. You can convert text/links, or even upload an image to create a link for it. You can change colors and dot styles to make it unique.",
                "howToUse": "How to Use",
                "step1": "1. Select input type: \"Text/Link\" or \"Upload Image\".",
                "step2": "2. If \"Text\", type it. If \"Image\", upload it and wait for the link.",
                "step3": "3. (Optional) Choose colors, dot style, and corner style.",
                "step4": "4. The code will appear instantly. Press \"Download\" to save it as a PNG image.",
                "privacyNote": "+ 100% Privacy Protection: All codes (for text) are generated on your device. If you upload an image, it's uploaded to ImgBB only to get a link."
            }
        };

        // --- 2. متغير اللغة الحالي ---
        let currentLang = 'ar'; 

        // --- 3. دالة تبديل اللغة ---
        window.setLanguage = function(lang) {
            currentLang = lang;
            document.documentElement.lang = lang;
            document.documentElement.dir = (lang === 'ar') ? 'rtl' : 'ltr';
            document.getElementById('lang-ar').classList.toggle('active', lang === 'ar');
            document.getElementById('lang-en').classList.toggle('active', lang === 'en');

            document.querySelectorAll('[data-lang-key]').forEach(element => {
                const key = element.getAttribute('data-lang-key');
                if (translations[lang][key]) {
                    element.innerText = translations[lang][key];
                }
            });
            
            document.getElementById('data-input').placeholder = (lang === 'ar') ? 'https://www.example.com' : 'https://www.example.com';
            document.getElementById('upload-status').innerText = translations[currentLang].uploadStatusReady;
        }
        
        // --- 4. منطق الأداة ---

        // عناصر الصفحة
        const dataInput = document.getElementById('data-input');
        const imageQrInput = document.getElementById('image-qr-input');
        const uploadStatus = document.getElementById('upload-status');
        const dotsColorInput = document.getElementById('dots-color-input');
        const cornersColorInput = document.getElementById('corners-color-input');
        const bgColorInput = document.getElementById('bg-color-input');
        const dotsSwatch = document.getElementById('dots-swatch');
        const cornersSwatch = document.getElementById('corners-swatch');
        const bgSwatch = document.getElementById('bg-swatch');
        const dotsStyleSelect = document.getElementById('dots-style-select');
        const cornersStyleSelect = document.getElementById('corners-style-select');
        const canvas = document.getElementById('canvas');
        const downloadBtn = document.getElementById('download-btn');
        const downloadArea = document.getElementById('download-area');

        let qrCode = null;
        let currentData = ""; // (جديد) لتخزين الرابط أو النص
        const MAX_IMAGE_SIZE = 32 * 1024 * 1024; // 32MB

        // --- (جديد) دالة إنشاء أو تحديث الكود ---
        function updateQRCode() {
            const data = currentData; // استخدام البيانات الحالية
            
            if (!data) {
                canvas.innerHTML = `<span data-lang-key="previewArea">${translations[currentLang].previewArea}</span>`;
                downloadArea.style.display = 'none';
                qrCode = null;
                return;
            }

            const options = {
                width: 300,
                height: 300,
                data: data,
                dotsOptions: {
                    color: dotsColorInput.value,
                    type: dotsStyleSelect.value
                },
                backgroundOptions: {
                    color: bgColorInput.value,
                },
                cornersSquareOptions: {
                    color: cornersColorInput.value,
                    type: cornersStyleSelect.value
                },
                imageOptions: { // (تم حذف) اللوجو
                    crossOrigin: "anonymous",
                    margin: 0
                }
            };

            if (!qrCode) {
                // --- الإنشاء لأول مرة ---
                canvas.innerHTML = ''; // إزالة النص
                downloadArea.style.display = 'block';
                qrCode = new QRCodeStyling(options);
                qrCode.append(canvas); // إرفاق الكود بالحاوية
            } else {
                // --- التحديث (أسرع) ---
                qrCode.update(options);
            }
        }
        
        // --- مستمعات الأحداث ---
        
        // التحديث الفوري عند الكتابة
        dataInput.addEventListener('input', (e) => {
            currentData = e.target.value;
            updateQRCode();
        });
        
        // (جديد) التحديث عند تغيير الألوان
        dotsColorInput.addEventListener('input', (e) => {
            dotsSwatch.style.backgroundColor = e.target.value;
            updateQRCode();
        });
        cornersColorInput.addEventListener('input', (e) => {
            cornersSwatch.style.backgroundColor = e.target.value;
            updateQRCode();
        });
        bgColorInput.addEventListener('input', (e) => {
            bgSwatch.style.backgroundColor = e.target.value;
            updateQRCode();
        });

        // التحديث عند تغيير الأشكال
        dotsStyleSelect.addEventListener('change', updateQRCode);
        cornersStyleSelect.addEventListener('change', updateQRCode);
        
        // (جديد) مستمع رفع صورة لإنشاء رابط
        imageQrInput.addEventListener('change', async (e) => {
            const file = e.target.files[0];
            if (!file) return;

            if (file.size > MAX_IMAGE_SIZE) {
                alert("File is too large (Max 32MB)");
                return;
            }

            uploadStatus.innerText = translations[currentLang].uploadStatusUploading;
            
            const formData = new FormData();
            formData.append('key', IMGBB_API_KEY);
            formData.append('image', file);

            try {
                const response = await fetch('https://api.imgbb.com/1/upload', {
                    method: 'POST',
                    body: formData,
                });
                
                const result = await response.json();

                if (result.success) {
                    uploadStatus.innerText = translations[currentLang].uploadStatusSuccess;
                    currentData = result.data.url; // (هام) تحديث البيانات بالرابط
                    dataInput.value = currentData; // (اختياري) وضع الرابط في الحقل
                    updateQRCode(); // إنشاء الكود
                } else {
                    uploadStatus.innerText = translations[currentLang].uploadStatusError;
                }
            } catch (error) {
                uploadStatus.innerText = translations[currentLang].uploadStatusError;
                console.error("Error uploading image:", error);
            }
        });

        // (جديد) مستمعات التبويبات
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                // إزالة 'active' من الكل
                document.querySelectorAll('.tab-btn').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // إضافة 'active' للمضغوط
                btn.classList.add('active');
                document.getElementById(btn.dataset.tab).classList.add('active');
                
                // إعادة ضبط
                currentData = "";
                dataInput.value = "";
                uploadStatus.innerText = translations[currentLang].uploadStatusReady;
                updateQRCode();
            });
        });

        // مستمع زر التحميل
        downloadBtn.addEventListener('click', () => {
            if (!qrCode) return;
            
            // (جديد) التحميل بحجم كبير (1000px) بدلاً من حجم العرض (300px)
            qrCode.update({
                width: 1000,
                height: 1000
            });
            qrCode.download({ name: "skydata-qr", extension: "png" });
            
            // إعادة الحجم للعرض
            qrCode.update({
                width: 300,
                height: 300
            });
        });

        // --- تشغيل الصفحة ---
        setLanguage(currentLang);
        updateQRCode(); // لتشغيل رسالة "ابدأ..."
        
    </script>
    </body>
</html>