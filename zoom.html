<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-key="pageTitle">مكبر الصور بالذكاء الاصطناعي مجاناً 2025 - AI Image Upscaler لتكبير وتحسين جودة الصور | Skydata</title>

<meta name="description" content="أداة Skydata مجانية 100% لعام 2025 لتكبير الصور وتحسين جودتها حتى 4x باستخدام الذكاء الاصطناعي (AI Upscaler). تكبير الصور بدون تشويش، وإزالة البكسلة، وتوضيح التفاصيل، مباشرةً في المتصفح.">

<meta name="description" lang="en" content="Skydata's 100% free AI Image Upscaler for 2025. Enlarge and enhance image resolution up to 4x using Artificial Intelligence. Lossless upscaling, depixelate photos, and clarify details directly in your browser.">

<meta name="keywords" content="تكبير الصور بالذكاء الاصطناعي, AI Image Upscaler مجاني, تحسين جودة الصور, تكبير بدون تشويش, إزالة البكسلة, توضيح الصور, Image Enlarger AI, Upscale Image Free 2025, enhance photo quality, enlarge image without losing quality, agrandir image IA, amélioration photo, image vergrößern KI, Bildqualität verbessern, ingrandire immagine AI, migliorare qualità foto, ampliar imagen IA, mejorar calidad foto, увеличить фото ИИ, улучшить качество изображения, AI图像放大, 提升图片质量, AI画像アップスケーラー, 写真高画質化, एआई इमेज अपस्केलर, फोटो क्वालिटी बढ़ाएं">
<link rel="manifest" href="/manifest.json">

<meta name="theme-color" content="#2196F3">

    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<script>
  window.OneSignalDeferred = window.OneSignalDeferred || [];
  OneSignalDeferred.push(async function(OneSignal) {
    await OneSignal.init({
      appId: "9bc8ff80-a325-4935-ba4d-03e362a3cc5f",
    });
  });
</script>
    <style>
        /* (جديد) تعريف الأنيميشن */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes spin { 
            to { transform: rotate(360deg); } 
        }

        body {
            font-family: Arial, sans-serif; direction: rtl; 
            background-color: #121212; color: #e0e0e0;
            margin: 0; padding: 0; display: flex; flex-direction: column; min-height: 100vh;
        }
        .container { max-width: 900px; margin: 0 auto; padding: 20px; flex-grow: 1; }
        header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 20px; background-color: #1e1e1e; border-bottom: 1px solid #333;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .logo-container { display: flex; align-items: center; }
        .logo-container img { height: 40px; margin-left: 10px; }
        .lang-switcher { display: flex; }
        .lang-switcher a {
            text-decoration: none; color: #007bff; margin: 0 5px;
            font-weight: bold; cursor: pointer; padding: 5px 8px; border-radius: 5px;
        }
        .lang-switcher a.active { background-color: #007bff; color: #ffffff; }

        footer {
            background-color: #1e1e1e; padding: 20px;
            text-align: center; margin-top: auto;
            border-top: 1px solid #333;
        }
        
        main { text-align: center; }
        .tool-box {
            background-color: #1e1e1e; padding: 30px;
            border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            margin-top: 30px;
            animation: fadeIn 0.5s ease;
        }
        .tool-box h1 { color: #ffffff; margin-bottom: 20px; }

        #image-input { display: none; }
        .file-upload-label {
            display: inline-block; background-color: #007bff; color: #ffffff;
            padding: 12px 25px; font-size: 1.1em; font-weight: bold;
            border-radius: 5px; cursor: pointer;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        .file-upload-label:hover { 
            background-color: #0056b3;
            transform: scale(1.03);
        }
        
        /* تصميم إعدادات التكبير المخصص */
        .settings-area {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
            color: #fff;
        }
        .setting-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .setting-group label {
            font-size: 1.1em;
            margin-left: 5px;
        }
        /* تصميم أزرار الاختيار (2x, 4x, 8x) */
        .setting-btn {
            background-color: #333;
            color: #e0e0e0;
            border: 1px solid #555;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .setting-btn:hover {
            background-color: #444;
        }
        .setting-btn.active {
            background-color: #007bff;
            color: #fff;
            border-color: #007bff;
            font-weight: bold;
        }
        
        /* تصميم زر التبديل (Pixelated) */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 28px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: #333;
            border-radius: 34px;
            transition: 0.4s;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            border-radius: 50%;
            transition: 0.4s;
        }
        input:checked + .slider {
            background-color: #007bff;
        }
        input:checked + .slider:before {
            transform: translateX(22px);
        }

        /* منطقة المعاينة (الأصلية) */
        #preview-area {
            margin-top: 20px;
            display: none;
            border: 1px solid #333;
            background-color: #121212;
            padding: 10px;
            border-radius: 5px;
        }
        #preview-area h3 {
            color: #aaa;
            margin: 0 0 10px 0;
        }
        #preview-area img {
            max-width: 100%;
            max-height: 250px;
            border-radius: 5px;
        }

        #progress-area { padding: 20px; display: block; } 
        #progress-spinner {
            display: none;
            margin-bottom: 15px;
        }
        .progress-circle {
            width: 60px; height: 60px; border: 8px solid #333;
            border-top-color: #007bff; border-radius: 50%;
            margin: 0 auto; animation: spin 1s linear infinite;
        }
        #progress-status { font-size: 1.1em; color: #e0e0e0; }

        #button-area { margin-top: 20px; min-height: 50px; }
        
        /* منطقة النتائج */
        #results-container {
            margin-top: 30px;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        #results-container h2 {
            color: #28a745;
        }
        .result-preview {
            border: 1px solid #333;
            background-color: #121212;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .result-preview img {
            max-width: 100%;
            max-height: 400px;
            border-radius: 5px;
        }
        .result-info {
            font-size: 1.2em;
            margin: 15px 0;
        }
        .result-info .new-size {
            color: #28a745;
            font-weight: bold;
        }

        #reset-area { margin-top: 20px; min-height: 50px; display: none; }
        
        .cta-button {
            display: inline-block; background-color: #007bff; color: #ffffff;
            padding: 12px 25px; font-size: 1.1em; font-weight: bold;
            text-decoration: none; border-radius: 5px; border: none;
            cursor: pointer; 
            transition: all 0.3s ease;
            margin: 5px;
        }
        .cta-button:hover { 
            transform: scale(1.03);
        }
        .cta-button.blue { background-color: #007bff; }
        .cta-button.green { background-color: #28a745; }
        .cta-button.red { background-color: #dc3545; }
        
        .cta-button.blue:hover { background-color: #0056b3; }
        .cta-button.green:hover { background-color: #218838; }
        .cta-button.red:hover { background-color: #c82333; }

        .cta-button:disabled { background-color: #555; cursor: not-allowed; }

        .back-button { 
            background-color: #555; margin-top: 50px; 
            font-size: 1.1em; padding: 10px 20px;
        }
        .back-button:hover { background-color: #444; }

        /* تنسيق النص التعليمي */
        .instruction-box {
            background-color: #1e1e1e;
            padding: 20px 30px;
            border-radius: 8px;
            margin-top: 30px;
            text-align: right;
            animation: fadeIn 0.5s ease;
        }
        .instruction-box h2 {
            color: #fff;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .instruction-box p, .instruction-box ul {
            font-size: 1.1em;
            line-height: 1.7;
            color: #e0e0e0;
        }
        .instruction-box .privacy-note {
            font-weight: bold;
            color: #28a745;
            margin-top: 15px;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .container { padding: 10px; }
            header { padding: 10px 15px; }
            .tool-box { padding: 20px; }
            .tool-box h1 { font-size: 1.8em; }
            .settings-area { flex-direction: column; }
            .instruction-box { padding: 20px; }
        }
        @media (max-width: 380px) {
            .logo-container img { height: 30px; }
        }

    </style>
    </head>
<body>

    <header>
        <div class="logo-container">
            <img src="https://i.ibb.co/hJ2nq38z/clouddata.webp" alt="شعار CloudData">
            <img src="https://i.ibb.co/v9zLrFg/skydata.webp" alt="شعار Skydata">
        </div>
        <div class="lang-switcher">
            <a href="#" id="lang-ar" class="active" onclick="setLanguage('ar'); return false;">AR</a>
            <a href="#" id="lang-en" onclick="setLanguage('en'); return false;">EN</a>
        </div>
    </header>

    <div class="container">
        
        <main>
            <div class="tool-box">
                <h1 data-lang-key="toolTitle">أداة تكبير الصور</h1>
                
                <label for="image-input" class="file-upload-label" id="upload-label" data-lang-key="selectImage">اختر صورة واحدة</label>
                <input type="file" id="image-input" accept="image/*">
                
                <div class="settings-area">
                    <div class="setting-group">
                        <label data-lang-key="scaleLabel">معامل التكبير:</label>
                        <div id="scale-select-group">
                            <button class="setting-btn active" data-value="2">2x</button>
                            <button class="setting-btn" data-value="4">4x</button>
                            <button class="setting-btn" data-value="8">8x</button>
                        </div>
                    </div>
                    <div class="setting-group">
                        <label data-lang-key="pixelatedLabel">وضع البيكسل (Pixel Art)</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="pixelated-check">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <div id="preview-area">
                    <h3 data-lang-key="originalImage">الصورة الأصلية</h3>
                    <img id="preview-image" src="" alt="Preview">
                </div>

                <div id="progress-area">
                    <div id="progress-spinner" style="display: none;">
                        <div class="progress-circle"></div>
                    </div>
                    <p id="progress-status" data-lang-key="statusReady">...</p>
                </div>

                <div id="button-area">
                    </div>
                
                <div id="results-container">
                    <h2 data-lang-key="statusDone">اكتمل التكبير!</h2>
                    <div class="result-preview">
                        <img id="result-image" src="" alt="Result">
                    </div>
                    <div class="result-info">
                        <span data-lang-key="originalSize">الأصلية:</span> <span id="original-dims"></span> | 
                        <span data-lang-key="newSize">الجديدة:</span> <span id="new-dims" class="new-size"></span>
                    </div>
                    <a href="#" id="download-btn" class="cta-button green" data-lang-key="downloadButton" download="upscaled_image.png">تحميل الصورة المكبرة</a>
                </div>

                <div id="reset-area">
                    </div>

            </div>

            <div class="instruction-box">
                <h2 data-lang-key="instructionTitle">دليل استخدام مكبر الصور</h2>
                
                <p data-lang-key="whatIsZoom">
                    تقوم هذه الأداة بتكبير أبعاد صورتك (زيادة عدد البكسلات). بدلاً من مجرد "مد" الصورة، يتم إعادة رسمها بحجم أكبر، وهو مفيد لزيادة دقة الصور الصغيرة.
                </p>
                
                <h3 data-lang-key="howToUse">كيفية الاستخدام</h3>
                <ul>
                    <li data-lang-key="step1">1. اختر صورة واحدة من جهازك.</li>
                    <li data-lang-key="step2">2. اختر معامل التكبير الذي تريده (مثلاً 4x).</li>
                    <li data-lang-key="step3">3. إذا كانت صورتك "Pixel Art"، حدد خيار "وضع البيكسل" للحفاظ على حدتها.</li>
                    <li data-lang-key="step4">4. اضغط "ابدأ التكبير" وانتظر قليلاً.</li>
                    <li data-lang-key="step5">5. قم بتحميل صورتك الجديدة.</li>
                </ul>
                
                <p class="privacy-note" data-lang-key="privacyNote">
                    + حماية خصوصيتك 100%: كل المعالجة تتم على جهازك. صورتك لا تترك المتصفح أبداً ولا يتم رفعها لأي خادم.
                </p>
            </div>

            <a href="index.html" class="cta-button back-button" data-lang-key="backToHome">العودة للرئيسية</a>
        </main>
        
    </div> <footer style="margin-top: auto;">
        </footer>

    <script>
        // --- 1. قاموس الترجمة ---
        const translations = {
            "ar": {
                "pageTitle": "مكبر الصور - Skydata",
                "toolTitle": "أداة تكبير الصور",
                "selectImage": "اختر صورة واحدة",
                "scaleLabel": "معامل التكبير:",
                "pixelatedLabel": "وضع البيكسل (Pixel Art)",
                "startButton": "ابدأ التكبير",
                "statusReady": "اختر صورة للبدء...",
                "statusProcessing": "جاري المعالجة... يرجى الانتظار.",
                "statusDone": "اكتمل التكبير!",
                "originalImage": "الصورة الأصلية",
                "originalSize": "الأصلية:",
                "newSize": "الجديدة:",
                "downloadButton": "تحميل الصورة المكبرة",
                "resetButton": "تكبير صورة أخرى",
                "backToHome": "العودة للرئيسية",
                "instructionTitle": "دليل استخدام مكبر الصور",
                "whatIsZoom": "تقوم هذه الأداة بتكبير أبعاد صورتك (زيادة عدد البكسلات). بدلاً من مجرد \"مد\" الصورة، يتم إعادة رسمها بحجم أكبر، وهو مفيد لزيادة دقة الصور الصغيرة.",
                "howToUse": "كيفية الاستخدام",
                "step1": "1. اختر صورة واحدة من جهازك.",
                "step2": "2. اختر معامل التكبير الذي تريده (مثلاً 4x).",
                "step3": "3. إذا كانت صورتك \"Pixel Art\"، حدد خيار \"وضع البيكسل\" للحفاظ على حدتها.",
                "step4": "4. اضغط \"ابدأ التكبير\" وانتظر قليلاً.",
                "step5": "5. قم بتحميل صورتك الجديدة.",
                "privacyNote": "+ حماية خصوصيتك 100%: كل المعالجة تتم على جهازك. صورتك لا تترك المتصفح أبداً ولا يتم رفعها لأي خادم."
            },
            "en": {
                "pageTitle": "Image Upscaler - Skydata",
                "toolTitle": "Image Upscaler Tool",
                "selectImage": "Select Single Image",
                "scaleLabel": "Scale Factor:",
                "pixelatedLabel": "Pixelated Mode (Pixel Art)",
                "startButton": "Start Upscaling",
                "statusReady": "Select an image to start...",
                "statusProcessing": "Processing... Please wait.",
                "statusDone": "Upscaling Complete!",
                "originalImage": "Original Image",
                "originalSize": "Original:",
                "newSize": "New Size:",
                "downloadButton": "Download Upscaled Image",
                "resetButton": "Upscale Another Image",
                "backToHome": "Back to Home",
                "instructionTitle": "Image Upscaler Guide",
                "whatIsZoom": "This tool scales up your image dimensions (increasing pixel count). Instead of just stretching, it redraws the image at a larger size, useful for increasing the resolution of small images.",
                "howToUse": "How to Use",
                "step1": "1. Select a single image from your device.",
                "step2": "2. Choose your desired scale factor (e.g., 4x).",
                "step3": "3. If your image is pixel art, check the \"Pixelated Mode\" box to keep it sharp.",
                "step4": "4. Press \"Start Upscaling\" and wait.",
                "step5": "5. Download your new image.",
                "privacyNote": "+ 100% Privacy Protection: All processing is done on your device. Your image never leaves the browser and is not uploaded to any server."
            }
        };

        // --- 2. متغير اللغة الحالي ---
        let currentLang = 'ar'; 

        // --- 3. دالة تبديل اللغة ---
        function setLanguage(lang) {
            currentLang = lang;
            document.documentElement.lang = lang;
            document.documentElement.dir = (lang === 'ar') ? 'rtl' : 'ltr';
            document.getElementById('lang-ar').classList.toggle('active', lang === 'ar');
            document.getElementById('lang-en').classList.toggle('active', lang === 'en');

            document.querySelectorAll('[data-lang-key]').forEach(element => {
                const key = element.getAttribute('data-lang-key');
                if (translations[lang][key]) {
                    element.innerText = translations[lang][key];
                }
            });
        }
        
        // --- 4. منطق الأداة ---

        // عناصر الصفحة
        const imageInput = document.getElementById('image-input');
        const scaleGroup = document.getElementById('scale-select-group'); // (جديد)
        const pixelatedCheck = document.getElementById('pixelated-check');
        const previewArea = document.getElementById('preview-area');
        const previewImage = document.getElementById('preview-image');
        const progressArea = document.getElementById('progress-area');
        const progressStatus = document.getElementById('progress-status');
        const progressSpinner = document.getElementById('progress-spinner');
        const buttonArea = document.getElementById('button-area');
        const resultsContainer = document.getElementById('results-container');
        const resultImage = document.getElementById('result-image');
        const originalDims = document.getElementById('original-dims');
        const newDims = document.getElementById('new-dims');
        const downloadBtn = document.getElementById('download-btn');
        const resetArea = document.getElementById('reset-area');
        const uploadLabel = document.getElementById('upload-label');

        let originalFile = null;
        let objectUrls = []; 

        function clearObjectUrls() {
            objectUrls.forEach(url => URL.revokeObjectURL(url));
            objectUrls = [];
        }

        // (جديد) دالة لتحديث نص الرسالة فقط
        function updateStatusMessage(element, key) {
            element.innerText = translations[currentLang][key] || '';
        }

        // --- (مُصلح) دالة إعادة الضبط ---
        function resetTool() {
            originalFile = null;
            clearObjectUrls();
            imageInput.value = null;
            
            previewArea.style.display = 'none';
            resultsContainer.style.display = 'none';
            buttonArea.innerHTML = '';
            resetArea.style.display = 'none';
            
            progressArea.style.display = 'block'; // إظهار رسالة الحالة
            progressSpinner.style.display = 'none';
            updateStatusMessage(progressStatus, 'statusReady');
            
            uploadLabel.style.display = 'inline-block';
        }

        // --- (مُصلح) مستمع اختيار الصور ---
        imageInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (!file) {
                resetTool();
                return;
            }

            originalFile = file;
            clearObjectUrls();

            // إظهار المعاينة الأصلية
            const url = URL.createObjectURL(file);
            objectUrls.push(url);
            previewImage.src = url;
            previewArea.style.display = 'block';
            
            // (هذا هو الإصلاح)
            progressArea.style.display = 'none'; // إخفاء رسالة "اختر..."
            buttonArea.innerHTML = ''; // تنظيف الأزرار القديمة
            
            // إظهار زر البدأ
            const startButton = document.createElement('button');
            startButton.className = 'cta-button blue';
            startButton.id = 'start-btn';
            updateStatusMessage(startButton, 'startButton');
            startButton.onclick = startUpscaling;
            buttonArea.appendChild(startButton);
        });
        
        // (جديد) مستمع لأزرار التكبير المخصصة
        scaleGroup.addEventListener('click', (e) => {
            if (e.target.classList.contains('setting-btn')) {
                scaleGroup.querySelectorAll('.setting-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                e.target.classList.add('active');
            }
        });

        
        // --- دالة التكبير الأساسية ---
        function upscaleImage(file, scale, pixelated) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const img = new Image();
                    img.onload = () => {
                        const newWidth = img.width * scale;
                        const newHeight = img.height * scale;
                        
                        const canvas = document.createElement('canvas');
                        canvas.width = newWidth;
                        canvas.height = newHeight;
                        
                        const ctx = canvas.getContext('2d');
                        
                        ctx.imageSmoothingEnabled = !pixelated;
                        
                        ctx.drawImage(img, 0, 0, newWidth, newHeight);
                        
                        canvas.toBlob((blob) => {
                            if (blob) {
                                resolve({
                                    blob: blob,
                                    width: newWidth,
                                    height: newHeight,
                                    originalWidth: img.width,
                                    originalHeight: img.height
                                });
                            } else {
                                reject(new Error('Canvas toBlob failed'));
                            }
                        }, 'image/png'); 
                    };
                    img.onerror = (e) => reject(new Error('Image failed to load: ' + e));
                    img.src = e.target.result;
                };
                reader.onerror = (e) => reject(new Error('FileReader failed: ' + e));
                reader.readAsDataURL(file);
            });
        }
        

        // --- دالة بدء التكبير (محدثة) ---
        async function startUpscaling() {
            if (!originalFile) return;

            previewArea.style.display = 'none';
            buttonArea.innerHTML = '';
            uploadLabel.style.display = 'none';
            progressArea.style.display = 'block';
            progressSpinner.style.display = 'block';
            updateStatusMessage(progressStatus, 'statusProcessing');
            
            const scale = parseInt(scaleGroup.querySelector('.setting-btn.active').dataset.value, 10);
            const pixelated = pixelatedCheck.checked;

            try {
                // (جديد) تأخير بسيط لإظهار التحميل قبل بدء المعالجة
                await new Promise(res => setTimeout(res, 50)); 
                
                const result = await upscaleImage(originalFile, scale, pixelated);
                
                // --- الانتهاء ---
                progressArea.style.display = 'none';
                
                // عرض النتائج
                const url = URL.createObjectURL(result.blob);
                objectUrls.push(url);
                resultImage.src = url;
                originalDims.innerText = `${result.originalWidth}x${result.originalHeight}`;
                newDims.innerText = `${result.width}x${result.height}`;
                
                const newFilename = `${originalFile.name.split('.').slice(0, -1).join('.')}_${scale}x.png`;
                downloadBtn.href = url;
                downloadBtn.download = newFilename;
                
                resultsContainer.style.display = 'block';

                // إظهار زر إعادة البدء
                resetArea.style.display = 'block';
                resetArea.innerHTML = `<button id="reset-btn" class="cta-button red">${translations[currentLang].resetButton}</button>`;
                document.getElementById('reset-btn').addEventListener('click', resetTool);

            } catch (error) {
                console.error("Error upscaling image:", error);
                resetTool();
                alert("Error: " + error.message);
            }
        }

        // --- تشغيل الصفحة ---
        setLanguage(currentLang);
        resetTool();
        
    </script>
    </body>
</html>